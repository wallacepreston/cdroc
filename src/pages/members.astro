---
import Layout from '../layouts/Layout.astro';
import TeamSection from '../components/TeamSection.astro';

// Fetch members from WordPress
let members = [];
try {
  const res = await fetch("https://acrooc.com/wp-json/wp/v2/posts");
  const data = await res.json();
  members = data.map(member => ({
    name: member.acf.name,
    title: member.acf.title,
    image: member.acf.image,
    affiliations: member.acf.affiliations,
    bio: member.acf.bio
  }));
} catch (error) {
  console.error("Error fetching members:", error);
}
---

<Layout title="Members Only - Corporate Directors Roundtable of Orange County">
  <div class="cdroc-row">
    <div class="cdroc-col">
      <h2>Our Members</h2>
      <h5 class="members-intro">
        The Corporate Directors Roundtable of Orange County's objective is to enhance the performance of its member Directors in their business, legal and ethical responsibilities. This objective is addressed through interactive and candid discussions among its members, and with outside experts, on challenges, emerging trends and leading practices. Eligibility for membership is by invitation only, and is based on skills, experience, and potential contributions of candidates.
      </h5>
      <TeamSection members={members} />
    </div>
  </div>
</Layout>

<style>
  .members-intro {
    margin: 2rem 0;
    line-height: 1.6;
    color: #494949;
    font-weight: normal;
  }
</style> 